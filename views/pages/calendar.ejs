<div class="content page">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12">
                <div class="card">
                    <div class="header">
                        <h4 class="title">Calendar</h4>
                        <p class="category">Calendar view of the events happening this semester.</p>
                    </div>
                    <div class="content">
                        <input id="prev-month" type="button" value="<" />
                        <input id="next-month" type="button" value=">"/>
                        <div id="calendar"></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                <div class="card">
                    <div class="header">
                        <h4 class="title">Expected Absence</h4>
                        <p class="category">If you know beforehand which meetings you will be late or absent to, please let us know here. Keep in mind that this still counts towards your total absences if you end up not showing up to the event.</p>
                    </div>
                    <div class="content">
                        <form action="/expectedAbsences" method="post" id="expectedAbsenceForm">
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <label>Event</label>
                                        <select form="expectedAbsenceForm" name="eventId" class="form-control" required>
                                          <% for(var i = 0; i < events.length; i++) { %>
                                            <% var event = events[i]; %>
                                            <% if (event._key == closestEventId) { %>
                                                <option value="<%- event._key %>" selected="1">
                                            <% } else { %>
                                                <option value="<%- event._key %>">
                                            <% } %>
                                            <%- event.title %>
                                            </option>
                                          <% } %>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label>Reason</label>
                                        <textarea form="expectedAbsenceForm" class="form-control" placeholder="reason goes here" name="reason" required></textarea>
                                    </div>
                                </div>
                            </div>
                            <button type="submit" class="btn btn-info btn-fill pull-right">Submit</button>
                            <div class="clearfix"></div>
                        </form>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="card">
                    <div class="header">
                        <h4 class="title">Feedback Form</h4>
                        <p class="category">Please give leadership feedback on the events that have happend so far this semester.</p>
                    </div>
                    <div class="content">
                        <form action="/feedback" method="post" id="feedbackForm">
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <label>Event</label>
                                        <select form="feedbackForm" name="eventId" class="form-control" required>
                                          <% for(var i = 0; i < events.length; i++) { %>
                                            <% var event = events[i]; %>
                                            <% if (event._key == closestEventId) { %>
                                                <option value="<%- event._key %>" selected="1">
                                            <% } else { %>
                                                <option value="<%- event._key %>">
                                            <% } %>
                                            <%- event.title %>
                                            </option>
                                          <% } %>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label>Response</label>
                                        <textarea form="feedbackForm" class="form-control" placeholder="feedback goes here" name="response" required></textarea>
                                    </div>
                                </div>
                            </div>
                            <button type="submit" class="btn btn-info btn-fill pull-right">Submit</button>
                            <div class="clearfix"></div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <% if (leadership) { %>
          <div class="row">
              <div class="col-md-12">
            <div class="card">
                <div class="header">
                    <h4 class="title">Set Semester Start</h4>
                    <p class="category">Set the date for the beginning of the semester</p>
                </div>
                <div class="content">
                    <form action="/semesterStart" method="post">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label>Date</label>
                                    <input required type="text" class="form-control" placeholder="1/17/17" value="<%- semesterStart %>" name="date">
                                </div>
                            </div>
                        </div>
                        <button type="submit" class="btn btn-info btn-fill pull-right">Set</button>
                        <div class="clearfix"></div>
                    </form>
                </div>
            </div>
          </div>
            <div class="col-md-6">
                <div class="card">
                    <div class="header">
                        <h4 class="title">Create Event</h4>
                        <p class="category pull-left">Create events for the semester here</p>
                    </div>
                    <div class="content">
                      <form action="/events" method="post">
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <label>Title</label>
                                        <input required type="text" class="form-control" placeholder="Hackshop #1" value="" name="title">
                                    </div>
                                    <div class="form-group">
                                        <label>Start Date</label>
                                        <input required type="text" class="form-control" placeholder="1/17/17" value="" name="startDate">
                                    </div>
                                    <div class="form-group">
                                        <label>Start Time</label>
                                        <input required type="text" class="form-control" placeholder="08:03 AM" value="" name="startTime">
                                    </div>
                                    <div class="form-group">
                                        <label>End Date</label>
                                        <input required type="text" class="form-control" placeholder="1/17/17" value="" name="endDate">
                                    </div>
                                    <div class="form-group">
                                        <label>End Time</label>
                                        <input required type="text" class="form-control" placeholder="09:03 AM" value="" name="endTime">
                                    </div>
                                    <div class="form-group">
                                        <label>Attendance?</label>
                                        <input required type="text" class="form-control" value="yes" name="attendance">
                                    </div>
                                </div>
                            </div>
                            <button type="submit" class="btn btn-info btn-fill pull-right">Create</button>
                            <div class="clearfix"></div>
                        </form>
                    </div>
                </div>
            </div>
              <div class="col-md-6">
                  <div class="card">
                      <div class="header">
                          <h4 class="title">Events</h4>
                          <p class="category pull-left">View of all events</p>
                          <p class="category pull-right btn btn-default hide-button" onclick="toggleCard('events')" id="eventsToggle">Hide</p>
                      </div>
                      <div class="content table-responsive table-full-width">
                          <table class="table table-hover table-striped">
                              <thead>
                                  <th>Title</th>
                                  <th>Date</th>
                                  <th>End Time</th>
                                  <th>Attendance?</th>
                                  <th>Delete?</th>
                              </thead>
                              <tbody id="events">
                                  <% for (var i = 0; i < events.length; i++) { %>
                                    <% var event = events[i]; %>
                                    <tr>
                                      <td><%- event.title %></td>
                                      <td><%- timeToString(event.timestamp, false, true) %></td>
                                      <td><%- timeToString(event.endTimestamp, false, true) %></td>
                                      <td>
                                        <form action="/events/<%- event._key %>" method="post">
                                          <button style="margin-left: 10px" type="submit">
                                            <i class="fa fa-trash"></i>
                                          </button>
                                        </form>
                                      </td>
                                      <td><%- event.attendance === true ? "Yes" : "No" %></td>
                                    </tr>
                                  <% } %>
                              </tbody>
                          </table>
                      </div>
                  </div>
              </div>
          </div>
        <div class="row">
            <div class="col-md-12">
                <div class="card">
                    <div class="header">
                        <h4 class="title">Feedback</h4>
                        <p class="category pull-left">View of all feedback submitted</p>
                    </div>
                    <div class="content table-responsive table-full-width">
                        <table class="table table-hover table-striped">
                            <thead>
                                <th>Name</th>
                                <th>Event</th>
                                <th>Response</th>
                            </thead>
                            <tbody id="feedback">
                                <% for (var i = 0; i < feedbacks.length; i++) { %>
                                  <% var feedback = feedbacks[i]; %>
                                  <tr>
                                    <td><%- feedback.name %></td>
                                    <td><%- feedback.title %></td>
                                    <td><%- feedback.response %></td>
                                  </tr>
                                <% } %>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <% } %>
    </div>
